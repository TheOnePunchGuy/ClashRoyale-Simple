import pygame
from main import WINDOW, GREEN
from src.game import card_location
from src.cards import Knight
#Initialize the grid for arena (18 x 24)
arena_map = [
        [0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0],# row 1
        [0, 0, 3, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 3, 0, 0],# row 2
        [0, 0, 3, 0, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 0, 3, 0, 0],# row 3
        [0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 0],# row 4
        [0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 0],# row 5
        [0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 0],# row 6
        [0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0],# row 7
        [0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0],# row 8
        [0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0],# row 9
        [0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0],# row 10
        [0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0],# row 11
        [1, 0, 3, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 3, 0, 1],# row 12
        [1, 0, 3, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 3, 0, 1],# row 13
        [0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0],# row 14
        [0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0],# row 15
        [0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0],# row 16
        [0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0],# row 17
        [0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0],# row 18
        [0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 0],# row 19
        [0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 0],# row 20
        [0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 0],# row 21
        [0, 0, 3, 0, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 0, 3, 0, 0],# row 22
        [0, 0, 3, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 33, 3, 3, 0, 0],# row 23
        [0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0],# row 24
        ]

TILE_SIZE = 27      

#Creates a rectangle for each grid.
def draw_arena():
    for r in range(len(arena_map)):
        for c in range(len(arena_map[r])):
            tile = arena_map[r][c]
            pygame.draw.rect(WINDOW, GREEN, (c*TILE_SIZE, r*TILE_SIZE, tile, tile))

    def card_placed(card):
        grid_y, grid_x = card_location(TILE_SIZE)
        arena_map(grid_y(grid_x)) = card